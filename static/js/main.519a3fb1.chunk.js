(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3cOcg",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__Ow3jh"}},11:function(e,t,a){e.exports={error:"Error_error__2kXVo",error__name:"Error_error__name__gDbw_"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__pmJ-Y",modal:"Modal_modal__1aDCq"}},13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2Qbd9"}},14:function(e,t,a){e.exports={button:"Button_button__2thtK"}},20:function(e,t,a){},21:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r,n=a(1),o=a.n(n),c=a(8),i=a.n(c),s=(a(20),a(3)),l=a(4),u=a(6),m=a(5),h=(a(21),a(7)),d=a.n(h),p=["title","titleId"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g.apply(this,arguments)}function b(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function j(e,t){var a=e.title,o=e.titleId,c=b(e,p);return n.createElement("svg",g({height:32,width:32,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),a?n.createElement("title",{id:o},a):null,r||(r=n.createElement("path",{d:"M19.427 20.427a8.5 8.5 0 1 1 1.083-.917l5.998 5.998a.699.699 0 0 1-.008.992.7.7 0 0 1-.992.008l-6.08-6.08ZM14.5 21a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Z",fill:"#929292",fillRule:"evenodd"})))}var f=n.forwardRef(j),_=(a.p,a(0)),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={imageName:""},e.handleChange=function(t){e.setState({imageName:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.imageName),e.reset()},e.reset=function(){e.setState({imageName:""})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.imageName,t=this.handleChange,a=this.handleSubmit;return Object(_.jsx)("header",{className:d.a.searchBar,children:Object(_.jsxs)("form",{className:d.a.searchForm,onSubmit:a,children:[Object(_.jsx)("button",{type:"submit",className:d.a.searchForm__button,children:Object(_.jsx)(f,{})}),Object(_.jsx)("input",{className:d.a.searchForm__input,type:"text",value:e,onChange:t,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),O=v,y=a(13),x=a.n(y);var w={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&per_page=12&key=23195286-789ed49c86d3fd3c443dc5a81&image_type=photo&orientation=horizontal")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")))}))}},N=a(10),S=a.n(N);var k=function(e){var t=e.webformatURL,a=e.tags,r=e.index;return Object(_.jsx)("li",{className:S.a.imageGalleryItem,children:Object(_.jsx)("img",{src:t,alt:a,className:S.a.imageGalleryItem__image,"data-index":r})})},I=a(14),M=a.n(I);var C=function(e){var t=e.onLoadMore;return Object(_.jsx)("button",{onClick:t,className:M.a.button,children:"Load more"})},F=(a(23),a(15)),G=a.n(F);var E=function(){return Object(_.jsx)(G.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})},D=a(11),L=a.n(D);var B=function(e){var t=e.name;return Object(_.jsxs)("p",{className:L.a.error,children:["\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ",Object(_.jsxs)("span",{className:L.a.error__name,children:['"',t,'"']})," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"]})},P=a(12),R=a.n(P),U=document.querySelector("#modal-root"),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.image,t=this.handleBackdropClick;return Object(c.createPortal)(Object(_.jsx)("div",{className:R.a.overlay,onClick:t,children:Object(_.jsx)("div",{className:R.a.modal,children:Object(_.jsx)("img",{src:e.largeImageURL,alt:e.tags})})}),U)}}]),a}(n.Component),K=A,q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={images:[],page:1,error:null,status:"idle",showModal:!1,imageIndex:null},e.openModal=function(t){var a=t.target.getAttribute("data-index");e.setState({showModal:!0,imageIndex:a})},e.closeModal=function(){e.setState({showModal:!1,imageIndex:null})},e.loadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=e.name,n=this.props.name,o=this.state.page;r!==n&&(this.setState({status:"pending"}),w.fetchImage(n,o).then((function(e){return a.setState({images:e.hits,status:"resolved"})})).catch((function(e){return a.setState({error:e,status:"rejected"})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,r=e.showModal,n=e.imageIndex,o=this.openModal,c=this.closeModal,i=this.loadMore,s=this.props.name;return"idle"===a?Object(_.jsx)(_.Fragment,{}):"pending"===a?Object(_.jsx)(E,{}):"rejected"===a||0===t.length||""===s.trim()?Object(_.jsx)(B,{name:s}):"resolved"===a?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("ul",{className:x.a.imageGallery,onClick:o,children:t.map((function(e,t){var a=e.id,r=e.webformatURL,n=e.tags;return Object(_.jsx)(k,{webformatURL:r,tags:n,index:t},a)}))}),Object(_.jsx)(C,{onLoadMore:i}),r&&Object(_.jsx)(K,{image:t[n],onClose:c})]}):void 0}}]),a}(n.Component),J=q,T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={imageName:""},e.addName=function(t){e.setState({imageName:t})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.imageName,t=this.addName;return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(O,{onSubmit:t}),Object(_.jsx)(J,{name:e})]})}}]),a}(n.Component),Q=T;i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(Q,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__2BhPM",searchForm:"Searchbar_searchForm__1yU7P",searchForm__button:"Searchbar_searchForm__button__3iMDQ",searchForm__input:"Searchbar_searchForm__input__3R21c"}}},[[44,1,2]]]);
//# sourceMappingURL=main.519a3fb1.chunk.js.map